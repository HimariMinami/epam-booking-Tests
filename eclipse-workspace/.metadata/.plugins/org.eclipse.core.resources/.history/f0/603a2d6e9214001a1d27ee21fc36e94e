package accommodations;

import java.util.List;

import org.openqa.selenium.By;
import org.openqa.selenium.NoSuchElementException;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.FindBy;

public class BookingAccomodationsPage {

	@FindBy (xpath  = "//div[@id=\"filter_uf\"]//a[1]")
	private WebElement filterBoxTown1;
	
	@FindBy (xpath  = "//div[@id=\"filter_uf\"]//a[3]")
	private WebElement filterBoxTown3;
	
	private String town1;
	private String town3;
	
	public BookingAccomodationPage accomodationDescription()
	{
		filterBoxTown1.click();
		town1 = filterBoxTown1.getText();
		filterBoxTown3.click();
		town3 = filterBoxTown3.getText();
		
		
		return new BookingAccomodationPage();
	}
	
	public boolean townNumIsCorrect(WebDriver driver)
	{
		try
		{
			List<WebElement> elements1 = driver.findElements(By.xpath("//a[@class=\"bui-link\" and contains(@data-tooltip-text, \""+ town1 +"\"\")]"));
			List<WebElement> elements3 = driver.findElements(By.xpath("//a[@class=\"bui-link\" and contains(@data-tooltip-text, \""+ town3 +"\"\")]"));
			if(elements1.size() >= 2 && elements3.size() >= 2)
			{
				return true;
			}
			else
			{ 
				return false;
			}
		}
		catch(NoSuchElementException e)
		{
			return false;
		}
	}
}
